# 사과승준 Repository 할일

## 수연이 주목
#### 노트북에서 코드랑 화면 보기
1. 인텔리제이 실행
2. 메뉴에 git 들어가서 pull 선택, master로 되어있나 확인, pull버튼 클릭
3. 오른쪽 상단에 재생버튼 누르기
4. vsCode 실행
5. 콘솔창 들어가서 npm start 라고 명령어 입력
6. 자동으로 크롬창에 화면이 뜸
7. 화면을 실수로 껐다면 콘솔창에 컨트롤C 하고 y 엔터 하고 다시 npm start 하거나 localhost:3000 주소로 들어가기

### 항상 빌드하고 확인하면서 하기

### 모든일들이 끝나고 난 뒤 고찰   

일단 확실히 예전보다 집중력이 엄청나게 상승했다.   
백엔드는 웬만한건 다 할 수 있었지만 시큐리티는 회사에서도 하다가 포기했었는데   
이제 시큐리티도 어느정도 이해했다.   
파일 업로드 부분도 잘 몰랐는데 이제는 완벽하게 알겠다.   
구글링 능력도 예전에 비해 상승했다.   

백엔드는 예전부터 해오던 것들이라 코드가 깔끔하게 나왔는데   
프론트는 너무 스파게티로 짜여졌다...   
함수명도 들쑥날쑥한 함수명이 많고  useEffect도 이상하게 쓰인 것 같은 부분이 많다.   

네이버지도 API가 정말 고통스러웠지만 어떻게든 해냈다.   
물론 이상하게 하긴 했지만 내 선에서는 최선이었다...   
&lt;NaverMap&gt; 이 항상 능사는 아니다. <div id="map" 이 정답일 때도 있다.   

AWS는 진짜로 잘못하면 돈이 왕창 빠져나간다. 앞으로 개인 프로젝트 할때는 웬만해서는 안 쓸 것 같다...   
AWS가 이 프로젝트 중에서 제일 어려웠던 부분인것 같다.   
아무래도 아예 처음보는 부분이라 그런 것 같다.   
리눅스 문법은 정말 중요했다. 종찬띠가 지나가면서 말하던 리눅스를 안 쓸 것 같지만 나중에 쓰게 된다는 말이 절실히 생각났다...   

마지막으로 앞으로는 주석달기를 생활화하고 코드를 가시성 좋게 짜는 버릇을 들여야겠다.   
지금 보니까 내가 썼는데도 잘 모르겠다...

아직 디자인이 남긴 했지만 그래도 기능이 다 끝나니까 뭔가 다 끝난 기분이 든다.   
이제 이력서랑 자소서 쓰자!


# 백엔드 할일
1. ~~request, response 만들기~~
2. ~~mapper 만들기 --> id 관련 워닝 뜨는거 고치기~~
3. ~~controller 만들기~~ 
4. ~~기본 서비스 만들기~~
5. ~~테스트 돌리기~~
6. ~~상세 서비스 만들기~~
7. ~~상세 서비스 테스트~~
8. ~~로그가 안된다고 하는데 작동은 잘됨, 해결하기~~ 그냥쓰자
9. ~~postman 써서 실제로 돌려보기, post에서 create가 안되고 있음, Customizer를 못찾는다고 ClassNotFountException이 뜸~~
10. ~~이미지 업로드 만들기~~
11. ~~mysql로 데베 바꾸기~~, 노트북이랑 데탑이랑 데베가 따로 되어있음
12. ~~리액트로 볼 견본파일 만들기~~ 
13. ~~**실제로 배포하기**~~
14. ~~로그인 로직, 시큐리티 설정하기~~

# 프론트 할일
1. ~~post write, update 페이지 만들기 --> 왜 안되는지 모르겠다...~~
2. ~~post 상세페이지 만들기~~
3. ~~map api 끌어오기~~, 표시하는게 힘들면 리스트로 해서 누르면 해당 url로 들어가서 연결되게 하기
4. ~~map list 만들기~~ ===> 네이버 지도에 동적으로 다중마커 찍는데 성공!
5. ~~post list 에서 몇개단위로 몇페이지 할지, 페이지 구조 만들기~~ ==> 안해도 될듯
6. ~~로그인 구현하기, 이거는 백엔드도 해야됨 ==> 2/29 이거만 하면 기능적 프론트는 끝남!~~ ==> 끝남!
7. ~~홈화면에 사용자 정보랑 일수 올려놓기~~
8. ~~게스트는 작성 못하게 막아놓기 (이거는 백엔드)~~
9. ~~포스트 리스트에 사진썸네일 만들기~~
10. ~~네이버지도에서 marker에다가 hover하면 정보 나오도록 수정 ==> 이게 지금 안되고 있다... ==> 순수자바스크립트로 짜던가 modal창으로 하던가로 해야할듯   ==> 클릭하면 옆에 창 만들어서 링크로 보여주게 하던가 색깔별로 subject 나눠서 보기만 해야할듯   ==> 결국엔 제대로 만들었다!!!~~
11. ~~프사 보여주기 ==> 왠진 모르겠는데 생성할때 리퀘스트가 틀렸다고 나옴 ==> 데스크톱으로 하니까 또 됨, 지금 둘다 디폴트 이미지만 올라가있음~~
12. ~~포스트 상세 페이지에서 gps정보 보게하기~~

## FrontEnd
현재 Home, Aaa, GetPostList 까지 됨, Home은 다른데에서 갖고온거니까 조금씩 바꿔가면서 하면 될듯
axios 주소 어떻게 쓰는지 잘 보고 하기

getPost에서 사진이름에 한글이 들어가면 엑박이 뜸

post상세 페이지에서 다 보이는데 이미지를 import를 어떻게 해야할지 모르겠음
이거 아직도 안됨 동적으로 받아내는 법을 찾아야함
scr=()여기 안에 require 넣는거 더 해봐야 할듯

네이버지도 api 불러오기 가능!`
https://console.ncloud.com/naver-service/application
여기로 가면됨

네이버 지도 testmap 버튼이 성공한 지도임 그거 그대로 쓰자 더 하면 너무 힘들다...

2/22
지도 밑에 GpsList 만들어서 정렬하고 수정 삭제 바로바로 되게 만들어야 함

modal이 안되고있음 invalid hook문제가 뜨는데 진짜 리액트18이 17로 되면 가능한지 확인하기
안되면 팝업 없애야지뭐... ==> 팝업 없애자..

2/27
온클릭에서는 () => openModal(gps) 이런모양으로 쓰자 무한렌더링 된다

~~2/28
배경화면 만드는게 안되고있음 아마 처음 실행할때 못받아내는거같은데 원인을 찾아야함~~

3/4   
~~접속하는 사람에 따라서 id가 바뀌는 로직 짜야함~~   

3/9
~~현재 프로필 수정 모달만 짜놨음,~~ ~~프사 제대로 보여주기, 수정로직 만들기, 다른정보도 보여주기~~, ~~노트북 DB에서 프사 수정하기~~   
~~포스트 상세 페이지에서 gps정보 보게하기~~

3/12
날짜 설정 할 때 달력으로 가능하게 바꿈, 포스트 상세페이지에서 gps정보 클릭시 url로 이동   
포스트 리스트에서 더보기 기능 추가, 포스트 생성 / 업데이트 할 때 사진 미리보기 추가, gps정보 리스트, name이 보이도록 교체   
npm install react-datepicker 로 달력 추가하기

현재 기능적인 추가점은 없는것 같음, 3월12일 오전 4시 36분 완성...!




## BackEnd
post의 gps값에 널값이 들어갈 수 없기 때문에 gps의 id 1번의 값은 
아무것도 아닌 값으로 설정해서 널값 대신 1번을 넣어서 뭘하든 항상 1번값은 
제외하고 진행하면 될듯

이미지를 업로드 했을때 반시계로 90도 틀어져서 업로드됨, 원인은 이미지의 
회전 메타데이터(Exif 데이터)가 올바르게 처리되지 않아서 그런거임
나중에 이거도 보정하는 코드 써야함, 
근데 그런 데이터가 없는 값은 방향맞게 잘 저장됨

포스트 이미지 업로드는 controller createPost에서 같이 진행할거임
createPost컨트롤러 내부에 if문 걸고 사진이 있으면 바로 postImageService로
넘어가서 진행하는 흐름으로 ㄱㄱ
업데이트 부분에서 기존의 엔티티를 삭제하고서 

mysql에 접속하는데 auth-gssapi_client 관련 에러가 뜨면 크롬 북마크에 있는거
들어가서 비번 바꾸고 다시 하면 잘됨(일단 그랬음)
하고나서 application.properties 파일 비밀번호 바꿔야함

3/3 새벽   
로그인 드디어 구현함 진짜 뒤지게 안됐다...   
원인은 
{"account":"test3","password":"3919"}] ==> 리액트   
account=test3&password=3919] ==> 백엔드   
이렇게 받는 형식이 달라서 그런거였음   

~~앞으로 해야할일은 권한 설정하고 관리자 아이디 구분하기 그리고 쿠키 관리 하는 로직 만들어야함   
맵에 접속할때 쿠키가 없어서 계속해서 로그인하라고 떠서 접근을 못함~~

3/3   
드디어 시큐리티 다 됐다!   
account=BSJ&password=3919&remember=on]으로 되어야함 그래야 정보를 쿠키로 저장해줌   
그리고 프론트에 백엔드로 접근하는 axios마다 뒤에 쿠키를 붙여줘야 권한을 갖고서 접근할 수 있음   

3/17   
5일만에 AWS로 배포하였음(본 코드에는 적용되지 않음)   
RDS로 mysql을 생성해서 접속했고 EC2 인스턴스 2개를 생성해서 각각 파일을 빌드했다.   
백에서는 WebConfig 부분을 프론트 IP주소로 바꾸고 프론트에서는 localhost부분을 백엔드 IP주소로 바꾸니 접속이 잘된다.   
하지만 서버값이 살살녹기 때문에 더 하지는 않고 지웠다.   
VPC는 굳이 따로 생성할 필요 없다.

내가 한 순서   
RDS 생성 -> 백과 연결 -> 기본적인 데이터들 생성 -> 백엔드 EC2 생성 -> 자바, 깃 등등 설치    
-> 프론트엔드 EC2 생성 -> 깃, node.js 등등 설치 -> 백 프론트 각각 run